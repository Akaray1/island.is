---
openapi: '3.0.1'
info:
  title: 'Open Job Positions, vacancies'
  version: '2.0.0'
servers:
  - url: '/ords/oebs/api/umsokn/v2'
    description: 'Development server 1'
  - url: '/ords/oebs/api/umsokn/v2'
    description: 'Production server'
paths:
  /vacancies:
    get:
      description: 'Return open vacancies from the icelandic state recruitment system'
      parameters:
        - name: 'language'
          in: 'query'
          description:
            "Return vacancies in selected language. Vacancies that have not\
            \ been translated are returned in icelandic unless ONLYEN is used, then\
            \ only vacancies that have been translated to english are returned."
          schema:
            type: 'string'
            enum:
              - 'IS'
              - 'EN'
              - 'ONLYEN'
              - 'ONLYIS'
            default: 'IS'
        - name: 'stofnun'
          in: 'query'
          description: 'Institution abbrevation, fetch only vacancies for that institution'
          schema:
            type: 'string'
            maxLength: 10
            pattern: "\\p{L}"
        - name: 'query'
          in: 'query'
          description:
            "Query parameter filters by fyrirsogn, inngangur, verkefni, haefnikrofur\
            \ and stofnunHeiti"
          schema:
            type: 'string'
        - name: 'Accept'
          in: 'header'
          schema:
            type: 'string'
            enum:
              - 'application/xml'
              - 'application/json'
            default: 'application/xml'
      responses:
        '200':
          description: 'The queried records.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/openvacaniesv2'
            application/xml:
              schema:
                type: 'object'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
  /vacancies/{vacancy_id}:
    get:
      description: 'Retrieve a record from /api/umsokn/v1/'
      parameters:
        - name: 'vacancy_id'
          in: 'path'
          description: 'the vacancy id to retrieve'
          required: true
          schema:
            type: 'integer'
        - name: 'language'
          in: 'query'
          description:
            "Return vacancies in selected language. Vacancies that have not\
            \ been translated are returned in icelandic unless ONLYEN is used, then\
            \ only vacancies that have been translated to english are returned."
          schema:
            type: 'string'
            enum:
              - 'IS'
              - 'EN'
              - 'ONLYEN'
              - 'ONLYIS'
            default: 'IS'
        - name: 'Accept'
          in: 'header'
          schema:
            type: 'string'
            enum:
              - 'application/xml'
              - 'application/json'
            default: 'application/xml'
      responses:
        '200':
          description: 'The queried record.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/openvacaniesv2'
            application/xml:
              schema:
                type: 'object'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
components:
  responses:
    UnauthorizedError:
      description: 'Authentication information is missing or invalid'
      headers:
        WWW_Authenticate:
          schema:
            type: 'string'
  securitySchemes:
    basicAuth:
      type: 'http'
      scheme: 'basic'
  schemas:
    openvacaniesv2:
      type: 'object'
      properties:
        attributes:
          type: 'object'
          properties:
            serviceName:
              type: 'string'
              description: 'The name of the web service'
            rowOffset:
              type: 'integer'
              description: 'The zero based row offset'
            fetchSize:
              type: 'integer'
              description: 'Applied fetch size'
            numberOfRows:
              type: 'integer'
              description: 'The number of rows returned'
            totalRows:
              type: 'integer'
              description:
                "The total number of rows available, can be omitted if\
                \ calculating total rows is too expensive"
          required:
            - 'serviceName'
            - 'rowOffset'
            - 'fetchSize'
            - 'numberOfRows'
          additionalProperties: false
        starfsauglysing:
          type: 'object'
          properties:
            id:
              type: 'integer'
            fyrirsogn:
              type: 'string'
              description: 'Heiti starfsauglýsingar'
            umsoknarfrestur_fra:
              type: 'string'
              format: 'dd.mm.yyyy'
              description: 'umsóknarfrestur frá og með'
            umsoknarfrestur_til:
              type: 'string'
              description: 'umsóknarfrestur til og með'
            inngangur:
              type: 'string'
              description: 'Lýsing - inngangur'
            verkefni:
              type: 'string'
              description: 'Helstu verkefni og ábyrgð'
            haefnikrofur:
              type: 'string'
              description: 'Hæfniskröfur'
            stofnunHeiti:
              type: 'string'
              description: 'Heiti stofnunar'
            skipulagseining:
              type: 'string'
              description: 'Skipulagseining innan stofnunar'
            heimilisfang:
              type: 'string'
              description: 'Heimilisfang deildar/stofnunar'
            postfang:
              type: 'string'
              description: 'Póstfang deildar/stofnunar'
            tengilidir:
              type: 'object'
              description: 'Tengiliðir, nánari upplýsingar veita'
              properties:
                tengilidur:
                  type: 'object'
                  description: 'Tengiliður'
                  properties:
                    '@nr':
                      type: 'integer'
                      description: 'Númer tengiliðs, 1 eða 2, fyrir röðun'
                    nafn:
                      type: 'string'
                      description: 'Nafn tengiliðs, nánari upplýsingar veitir'
                    netfang:
                      type: 'string'
                      description: 'Netfang tengiliðs'
                    simi:
                      type: 'integer'
                      description: 'Sími tengiliðs'
                  required:
                    - '@nr'
                    - 'nafn'
                    - 'netfang'
                  additionalProperties: false
              required:
                - 'tengilidur'
              additionalProperties: false
            undirtexti:
              type: 'string'
              description: 'Frekari upplýsingar um starfið'
            weblink:
              type: 'object'
              description: 'Slóð og texti á vefhlekk til að sækja um starfið'
              properties:
                url:
                  type: 'string'
                  format: 'url'
                  description: 'Slóð í ráðningarkerfi, smelltu hér til að sækja um'
                text:
                  type: 'string'
                  description: 'Texti til að setja á vefhlekk.'
              required:
                - 'url'
                - 'text'
              additionalProperties: false
            weblink_extra:
              type: 'string'
              description: 'Aukahlekkur, ekki notað lengur.'
            vinnutimaskipulag:
              type: 'string'
              description: 'Vinnutímaskipulag'
            starfshlutfall:
              type: 'string'
              description: 'Starfshlutfall, til/frá eða föst prósenta'
            starfssvid:
              type: 'string'
              description: 'Starfssvið, starfaflokkun'
            birt:
              type: 'string'
              description: 'Birt á vef, gamalt - ekki notað lengur J/N'
            launaskilmali:
              type: 'string'
              description: 'Launaskilmáli, stéttarfélag'
            stettarfelagHeiti:
              type: 'string'
              description: 'Heiti stéttarfélags'
            launaskilmaliFull:
              type: 'string'
              description: 'Launaskilmáli, samsettur texti til birtingar.'
            logoURL:
              type: 'string'
              format: 'url'
              description: 'Slóð á táknmynd/logo stofnunar'
            language:
              type: 'string'
              description: 'Tungumál auglýsingar'
            languages:
              type: 'string'
              description: 'Tungumál sem auglýsing hefur verið þýdd á'
            other_languages:
              type: 'string'
              description: 'Önnur tungumál sem auglýsing hefur veruð þýdd á'
            stadsetningar:
              type: 'object'
              description: 'Staðsetningar starfs, landssvæði eða án staðsetningar'
              properties:
                stadsetning:
                  type: 'object'
                  description: 'Staðsetning'
                  properties:
                    '@kodi':
                      type: 'integer'
                      description: 'Kóði staðsetningar'
                    '@text':
                      type: 'string'
                      description: 'Heiti staðsetningar'
                  required:
                    - '@kodi'
                    - '@text'
                  additionalProperties: false
              required:
                - 'stadsetning'
              additionalProperties: false
          required:
            - 'id'
            - 'fyrirsogn'
            - 'umsoknarfrestur_fra'
            - 'umsoknarfrestur_til'
            - 'inngangur'
            - 'verkefni'
            - 'haefnikrofur'
            - 'stofnunHeiti'
            - 'skipulagseining'
            - 'heimilisfang'
            - 'postfang'
            - 'tengilidir'
            - 'undirtexti'
            - 'weblink'
            - 'weblink_extra'
            - 'vinnutimaskipulag'
            - 'starfshlutfall'
            - 'starfssvid'
            - 'birt'
            - 'launaskilmali'
            - 'stettarfelagHeiti'
            - 'launaskilmaliFull'
            - 'logoURL'
            - 'language'
            - 'languages'
            - 'other_languages'
            - 'stadsetningar'
          additionalProperties: false
      additionalProperties: false
      required:
        - 'attributes'
        - 'starfsauglysing'
security:
  - basicAuth: []
