openapi: 3.0.0
info:
  title: Social Insurance Administration API
  version: 1.0.0
  contact:
    name: Social Insurance Administration (Tryggingastofnun)
servers:
  - url: https://xroad-dev.tr.is/r1/IS-DEV/GOV/10008/TR-Protected/
    description: Optional server description, XROAD-DEV
  - url: https://xroad.tr.is/r1/IS-DEV/GOV/10008/TR-Protected/
    description: Optional server description, XROAD-PROD
paths:
  /Test/hello:
    get:
      tags:
        - Hello Oddur
      operationId: hello_oddur
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TestHello'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: string
        '500':
          description: internal Error
          content:
            application/json:
              schema:
                type: string
  /Status/oldagepension:
    get:
      tags:
        - Get status
      operationId: get_status
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: string
        '500':
          description: internal Error
          content:
            application/json:
              schema:
                type: string
  /application/bankinfo:
    get:
      tags:
        - Get bank info
      operationId: Application_GetBankInfo
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BankInfo'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: string
        '500':
          description: internal Error
          content:
            application/json:
              schema:
                type: string
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
  schemas:
    TestHello:
      type: string
      example: true
      description: Hello from the Oddur side
    Application:
      type: object
      description: Application
      properties:
        applicationType:
          type: string
        applicationSubType:
          type: string
        applicationStatus:
          type: string
        applicationCreateDate:
          format: date-time
          type: string
    Status:
      type: object
      description: The status of the applicant applications at TR, if the applicant has one
      properties:
        hasPension:
          type: boolean
        applications:
          type: array
          items:
            $ref: '#/components/schemas/Application'
    BankInfo:
      type: object
      description: Returns bank information from TR if applicant has one registered there
      properties:
        bank: 
          type: string
        ledger: 
          type: string
        accountNumber: 
          type: string
        iban: 
          type: string
        swift: 
          type: string
        foreignBankName: 
          type: string
        foreignBankAddress: 
          type: string
        currency: 
          type: string
security:
  - bearerAuth: []
