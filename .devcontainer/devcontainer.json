// vi: ft=jsonc
{
  "name": "Devcontainer for island.is",
  "build": {
    "dockerfile": "Dockerfile",
    "context": "../",
    "target": "output-devcontainer"
  },
  "features": {
    "ghcr.io/devcontainers-contrib/features/act": 1,
    "ghcr.io/devcontainers-contrib/features/prettier": 1,
    "ghcr.io/devcontainers-contrib/features/volta": 1,
    "ghcr.io/devcontainers-contrib/features/zsh-plugins": 0,
    "ghcr.io/devcontainers/features/aws-cli": 1,
    "ghcr.io/devcontainers/features/common-utils": "2.3.1",
    "ghcr.io/devcontainers/features/kubectl-helm-minikube": 1,
    "ghcr.io/meaningful-ooo/devcontainer-features/homebrew": 2
  },
  "customizations": {
    "vscode": {
      "extensions": ["dbaeumer.vscode-eslint"]
    }
  },
  "privileged": true,
  "runArgs": ["--name=devcontainer-islandis"],
  "postCreateCommands": [
    "cp .devcontainer/aws-config.default.ini .devcontainer/aws-config.ini",
    "cp .devcontainer/.envrc.default .devcontainer/.envrc"
  ],
  "containerEnv": {
    "AWS_CONFIG_FILE": "${containerWorkspaceFolder}/.devcontainer/aws-config.ini",
    "IS_DEVCONTAINER": true
  },

  "forwardPorts": [3000, 3333, 4200, 4242]
}
